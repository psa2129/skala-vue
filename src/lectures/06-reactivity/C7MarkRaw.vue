<template>
  <div>
    <h2>âœ… ë°˜ì‘í˜• ì‚¬ìš©ì (state1)</h2>
    <p>ì´ë¦„: {{ state1.user.name }} / ë‚˜ì´: {{ state1.user.age }}</p>
    <p>ê¸°ìˆ : {{ state1.skills.join(', ') }}</p>
    <button @click="incrementAge(state1)">ë‚˜ì´ ì¦ê°€</button>
    <button @click="addSkill(state1)">ê¸°ìˆ  ì¶”ê°€</button>
    <hr />

    <h2>ğŸš« markRaw ì‚¬ìš©ì (state2)</h2>
    <p>ì´ë¦„: {{ state2.user.name }} / ë‚˜ì´: {{ state2.user.age }}</p>
    <p>ê¸°ìˆ : {{ state2.skills.join(', ') }}</p>
    <button @click="incrementAge(state2)">ë‚˜ì´ ì¦ê°€</button>
    <button @click="addSkill(state2)">ê¸°ìˆ  ì¶”ê°€</button>
  </div>
</template>

<script setup>
import { reactive, markRaw } from 'vue'

const obj = {
  name: 'í™ê¸¸ë™',
  age: 20
}
const state1 = reactive({
  user: { ...obj }, // âœ… ë°˜ì‘í˜• ìœ ì§€
  skills: []
})
const state2 = reactive({
  user: markRaw({ ...obj }), // ğŸš« ë°˜ì‘ì„± ì œê±°
  skills: []
})

function incrementAge(state) {
  state.user.age++
}
function addSkill(state) {
  state.skills.push('ê¸°ìˆ #' + state.skills.length)
}
</script>
